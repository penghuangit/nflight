package com.tymeac.client.jframe;

/* 
 * Copyright (c) 1998 - 2004 Cooperative Software Systems, Inc. 
 *
 * The contents of this file are subject to the Common Public License   
 * ("License"). You may not use this file except in compliance with
 * the License. A copy of the License is part of this distribution and
 * is also available at:
 * http://www.opensource.org/licenses/cpl.php
 */

import java.awt.*;
import javax.swing.*;
import java.net.*;

/**
 * The Help Internal display frame.
 */ 
public class TyHelp extends javax.swing.JFrame
{
  private static final long serialVersionUID = 1L;
  //{{DECLARE_CONTROLS
	java.awt.ScrollPane scrollPane1 = new java.awt.ScrollPane(ScrollPane.SCROLLBARS_AS_NEEDED);
	javax.swing.JEditorPane JEditorPane1 = new javax.swing.JEditorPane();
	class SymWindow extends java.awt.event.WindowAdapter
	{
		public void windowClosing(java.awt.event.WindowEvent event)
		{
			Object object = event.getSource();
			if (object == TyHelp.this)
				TyHelp_windowClosing(event);
		}
	}

	class SymAction implements java.awt.event.ActionListener
	{
		public void actionPerformed(java.awt.event.ActionEvent event)
		{
				
			
		}
	}

	static java.util.ResourceBundle tyHelpBundle = java.util.ResourceBundle.getBundle("com.tymeac.client.jframe.TyHelpBundle");
	public TyHelp()
	{
		// This code is automatically generated by Visual Cafe when you add
		// components to the visual environment. It instantiates and initializes
		// the components. To modify the code, only use code syntax that matches
		// what Visual Cafe can generate, or Visual Cafe may be unable to back
		// parse your Java file into its visual environment.
		//{{INIT_CONTROLS
		setTitle(tyHelpBundle.getString("TyHelp_title"));
		setDefaultCloseOperation(WindowConstants.DO_NOTHING_ON_CLOSE);
		getContentPane().setLayout(new BorderLayout(0,0));
		setSize(488,309);
		setVisible(false);
		getContentPane().add(BorderLayout.CENTER,scrollPane1);
		scrollPane1.setBounds(0,0,488,309);
		JEditorPane1.setContentType(tyHelpBundle.getString("JEditorPane1_contentType"));
		JEditorPane1.setText(tyHelpBundle.getString("JEditorPane1_text"));
		JEditorPane1.setToolTipText(tyHelpBundle.getString("JEditorPane1_toolTipText").length() != 0 ? tyHelpBundle.getString("JEditorPane1_toolTipText") : null);
		scrollPane1.add(JEditorPane1);
		JEditorPane1.setBounds(0,0,484,305);
		//}}

		//{{INIT_MENUS
		//}}

		//{{REGISTER_LISTENERS
		SymWindow aSymWindow = new SymWindow();
		this.addWindowListener(aSymWindow);
		//}}
	}
	//}}

	//{{DECLARE_MENUS
	//}}

	void exitApplication()
	{
   	this.setVisible(false);    // hide the Frame
   	this.dispose();            // free the system resources			
		
	}
/**
 * Display the document
 *
 */

public void putOut(String doc)  {
  
    // error msg
    String error = null;

    // switch 
    boolean good = false; 
    
    // default class loader  
    ClassLoader cl = getClass().getClassLoader();
  
    // position url
    URL url = null;
    
    try {
      // find the help file
      url = cl.getResource(tyHelpBundle.getString("help") + doc);
      
      // When found
      if(url != null) {

          // set good                
          good = true;          
      }
      else {
          // could not find        
          error = tyHelpBundle.getString("Error_1")
                  + tyHelpBundle.getString("help") + doc;
            
      } // endif      
    } // end-try
    
    catch(Exception e) {
       
       error = tyHelpBundle.getString("Error") 
                + e.getMessage() 
                + tyHelpBundle.getString("error___tyHelpBundle_getString");
  
    } // end-catch  
   
   // When ok
   if  (good) {         
          
        // display the document
        try {
            // using this URL
            JEditorPane1.setPage(url);

        } // end-try
        
        // not good 
        catch (Exception e) {
        
            error = tyHelpBundle.getString("Error_2") 
                          + e.getMessage() 
                          + tyHelpBundle.getString("error___tyHelpBundle_getString_1");

            // stop rest
            good = false;   
            
        } // end-catch
    } // endif

    // When error
    if  (!good) {
   
         //error msg
         JEditorPane1.setText(error); 
      
    } // endif

    // now visable
    super.setVisible(true);
    setVisible(true);       
 
  } // end-method 
	void TyHelp_windowClosing(java.awt.event.WindowEvent event)
	{
		// to do: code goes here.
			 
		TyHelp_windowClosing_Interaction1(event);
	}
	void TyHelp_windowClosing_Interaction1(java.awt.event.WindowEvent event) {
		try {
			this.exitApplication();
		} catch (Exception e) {
		}
	}
}
