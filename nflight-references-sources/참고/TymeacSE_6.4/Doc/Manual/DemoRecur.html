<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<link REL="stylesheet" HREF="h1.css" TYPE="text/css">
<title>DemoRecur.java</title>

<meta name="Microsoft Border" content="b, default">
</head>

<body background="Images/texture.jpg"><!--msnavigation--><table dir="ltr" border="0" cellpadding="0" cellspacing="0" width="100%"><tr><!--msnavigation--><td valign="top">

<h1>DemoRecur.java</h1>

<blockquote>
  <blockquote>
    <blockquote>
      <p style="text-align: justify">This is a snippet of the java code for the demonstration
      class, DemoRecur.java. The full code is in the directory: &lt;Tymeac base&gt;\Source.</p>
    </blockquote>
  </blockquote>
</blockquote>

<blockquote>
  <p>package com.tymeac.serveruser;<br>
  import com.tymeac.base.*;<br>
  import com.tymeac.demo.*;<br>
  <br>
  public class DemoRecur {</p>
  <blockquote>
    <p>public static void main(Object[] args) <br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; throws java.lang.Throwable {</p>
    <blockquote>
      <p>try { </p>
      <blockquote>
        <p>try {</p>
        <p>&nbsp;&nbsp;&nbsp; // Should be a string passed<br>
        &nbsp;&nbsp;&nbsp; if (!args[0] instanceof String) {<br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // no good, return null<br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return null;<br>
        &nbsp;&nbsp;&nbsp; } // endif <br>
        <br>
        &nbsp;&nbsp;&nbsp; // passed string<br>
        &nbsp;&nbsp;&nbsp; String Begin = (String) args[0];<br>
        <br>
        &nbsp;&nbsp;&nbsp; // do the processing here&nbsp;&nbsp;&nbsp; <br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ...</p>
        <p>&nbsp;&nbsp;&nbsp; // form return value<br>
        &nbsp;&nbsp;&nbsp; String S = &quot;#Demo1: &quot; + &quot;Other data&quot;;</p>
        <p>/*<br>
        * The basic return string is finished. Now, to demonstrate the<br>
        * recurrsive ability of Tymeac. The method acts as a Client and<br>
        * calls the Tymeac Server for Function_2 with a synchronous<br>
        * request. The return string from this call is appended to the<br>
        * basic return string and all passes back to the original client.<br>
        * <br>
        * The second arg passed to this invoked method is the Tymeac Server<br>
        * interface. The object is cast to: TymeacInterface and&nbsp; and used in the<br>
        * method call for a syncRequest().<br>
        * <br>
        */<br>
        <br>
        // new string for Tymeac return<br>
        String x = &quot;223344556677889911&quot;;<br>
        Object pass = (Object) x;<br>
        Object back[] = null;<br>
        <br>
        // form a parameter for Tymeac <br>
        TymeacParm TP = new TymeacParm(pass,
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // data <br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        &quot;Function_2&quot;, // function name<br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        10,
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        // wait time<br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        1);
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        // priority<br>
        <br>
        // second arg is TymeacInterface<br>
        <br>
        // do a sync request <br>
        back = ((TymeacInterface)args[1]).syncRequest(TP);<br>
        <br>
        // Should be an array<br>
        if (back == null) {<br>
        <br>
        &nbsp;&nbsp;&nbsp; String Z = S + &quot; Recursion attempt did not complete
        properly&quot;;<br>
        &nbsp;&nbsp;&nbsp; return (Object) Z;<br>
        } // endif <br>
        <br>
        // number of objects in array<br>
        int nbr = back.length;<br>
        <br>
        // concatenate all the strings<br>
        for (int i = 0; i &lt; nbr; i++) {<br>
        <br>
        &nbsp;&nbsp;&nbsp; // When a good string<br>
        &nbsp;&nbsp;&nbsp; if (back[i] != null) {<br>
        <br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // concat<br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; S = S.concat((String) back[i]);<br>
        <br>
        &nbsp;&nbsp;&nbsp; } // endif<br>
        } // end-for<br>
        <br>
        // return all values<br>
        return (Object) S;</p>
      </blockquote>
      <p>} // end-try<br>
      <br>
      catch (java.lang.Throwable e) {<br>
      <br>
      //e.printStackTrace(System.out);<br>
      <br>
      throw e; <br>
      } // end-catch </p>
    </blockquote>
  </blockquote>
  <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } // end-method<br>
  } // end-class</p>
</blockquote>

<p>&nbsp;</p>
&nbsp;<!--msnavigation--></td></tr><!--msnavigation--></table><!--msnavigation--><table border="0" cellpadding="0" cellspacing="0" width="100%"><tr><td>

<p><b><small><font size="2">© 1998 - 2013 Cooperative Software Systems, Inc.&nbsp; All rights 
    reserved.</font></small></b></p>

</td></tr><!--msnavigation--></table></body>
</html>
